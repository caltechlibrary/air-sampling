<footer class="footer page-footer">
    <div class="container">
        <!-- Navigation Links -->
        <div class="footer-links">
            <a href="/phoenix">Home</a>
            <a href="/phoenix/about">About</a>
            <a href="/phoenix/faq">FAQs</a>
            <!-- <a href="/phoenix/data">Data</a>-->
        </div>

        <!-- Partner Logos -->
        <div class="footer-logos">
            <a href="https://resnick.caltech.edu/" target="_blank">
                <img class="footer_img" src="/img/resnick-institute.jpg" alt="Resnick Institute Logo">
            </a>
            <a href="https://www.gps.caltech.edu/" target="_blank">
                <img class="footer_img gps-logo" src="/img/gps-logo.png" alt="Caltech GPS logo">
            </a>
            <a href="https://ascent.research.gatech.edu/" target="_blank">
                <img class="footer_img" src="/img/ascent-logo.jpg" alt="Ascent Network logo">
            </a>
            <a href="https://ng.chbe.gatech.edu/" target="_blank">
                <img class="footer_img gatech-logo" src="/img/gatech-logo.png" alt="Georgia Tech logo">
            </a>
            <a class="footer_item" href="https://data.caltech.edu/" target="_blank">
                <img class="footer_img" src="/img/caltech-data.svg" alt="Caltech Data Logo">
            </a>
            <a href="https://www.quant-aq.com/" target="_blank">
                <img class="footer_img quantaq-logo" src="/img/quantaq-logo.png" alt="QuantAQ logo">
            </a>
            <a href="https://anthropoceneinstitute.com/" target="_blank">
                <img class="footer_img quantaq-logo" src="/img/anthropocene-logo.jpeg" alt="Anthropocene Institute">
            </a>
        </div>
    </div>
    <script>
// Configure the first and last months (format: [year, month] where month is 1-indexed)
const firstAvailableMonth = [2025, 3]; // March 2025
const lastAvailableMonth = [2025, 7];  // July 2025

// Base URL pattern for the maps (replace month in format YYYY-MM)
const urlPattern = 'https://caltechlibrary.github.io/air-sampling/phoenix/maps/YYYY-MM.html';

// Function to generate month array from first to last month
function generateMonthsArray() {
  const months = [];
  let currentYear = firstAvailableMonth[0];
  let currentMonth = firstAvailableMonth[1];
  
  const endYear = lastAvailableMonth[0];
  const endMonth = lastAvailableMonth[1];
  
  // Generate all months between start and end (inclusive)
  while (currentYear < endYear || (currentYear === endYear && currentMonth <= endMonth)) {
    // Create month label
    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 
                         'July', 'August', 'September', 'October', 'November', 'December'];
    const monthName = `${monthNames[currentMonth - 1]} ${currentYear}`;
    
    // Create URL with proper formatting
    const monthStr = currentMonth.toString().padStart(2, '0');
    const url = urlPattern.replace('YYYY', currentYear).replace('MM', monthStr);
    
    months.push({ name: monthName, url: url });
    
    // Move to next month
    currentMonth++;
    if (currentMonth > 12) {
      currentMonth = 1;
      currentYear++;
    }
  }
  
  return months;
}

// Generate months array
const months = generateMonthsArray();

// Function to determine the correct month index based on current date
function getCurrentMonthIndex() {
  const today = new Date();
  const currentYear = today.getFullYear();
  const currentMonth = today.getMonth() + 1; // Convert to 1-indexed
  
  // Check if current date is within range
  if ((currentYear > firstAvailableMonth[0] || 
       (currentYear === firstAvailableMonth[0] && currentMonth >= firstAvailableMonth[1])) &&
      (currentYear < lastAvailableMonth[0] || 
       (currentYear === lastAvailableMonth[0] && currentMonth <= lastAvailableMonth[1]))) {
    
    // Calculate total months between first available month and current month
    let yearDiff = currentYear - firstAvailableMonth[0];
    let monthDiff = currentMonth - firstAvailableMonth[1];
    return yearDiff * 12 + monthDiff;
  } else if (currentYear < firstAvailableMonth[0] || 
            (currentYear === firstAvailableMonth[0] && currentMonth < firstAvailableMonth[1])) {
    // Before first available month
    return 0;
  } else {
    // After last available month
    return months.length - 1;
  }
}

// Initialize with the current month based on system date
let currentMonthIndex = getCurrentMonthIndex();

// Function to update the iframe and pagination
function updateMonthView() {
  // Update iframe source
  const iframe = document.querySelector('iframe');
  iframe.src = months[currentMonthIndex].url;
  
  // Get pagination elements
  const pagination = document.querySelector('.pagination');
  const prevButton = pagination.querySelector('li:first-child');
  const currentMonthButton = pagination.querySelector('li:nth-child(2)');
  const nextButton = pagination.querySelector('li:last-child');
  
  // Update current month link text
  const currentMonthLink = currentMonthButton.querySelector('a');
  currentMonthLink.textContent = months[currentMonthIndex].name;
  
  // Update previous button state
  if (currentMonthIndex === 0) {
    prevButton.classList.add('disabled');
  } else {
    prevButton.classList.remove('disabled');
  }
  
  // Update next button state
  if (currentMonthIndex === months.length - 1) {
    nextButton.classList.add('disabled');
  } else {
    nextButton.classList.remove('disabled');
  }
}

// Function to handle previous month navigation
function navigateToPreviousMonth(event) {
  event.preventDefault();
  if (currentMonthIndex > 0) {
    currentMonthIndex--;
    updateMonthView();
  }
}

// Function to handle next month navigation
function navigateToNextMonth(event) {
  event.preventDefault();
  if (currentMonthIndex < months.length - 1) {
    currentMonthIndex++;
    updateMonthView();
  }
}

// Initialize the page
document.addEventListener('DOMContentLoaded', () => {
  // Get pagination elements
  const pagination = document.querySelector('.pagination');
  const prevButton = pagination.querySelector('li:first-child');
  const currentMonthButton = pagination.querySelector('li.active');
  const nextButton = pagination.querySelector('li:last-child');
  
  // Set up event listeners for prev/next buttons
  const prevLink = prevButton.querySelector('a');
  prevLink.addEventListener('click', navigateToPreviousMonth);
  
  const nextLink = nextButton.querySelector('a');
  nextLink.addEventListener('click', navigateToNextMonth);
  
  // Initialize the view
  updateMonthView();
});
    </script>
</footer>
