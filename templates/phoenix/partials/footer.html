<footer class="footer page-footer">
    <div class="container">
        <!-- Navigation Links -->
        <div class="footer-links">
            <a href="/phoenix">Home</a>
            <a href="/phoenix/about">About</a>
            <a href="/phoenix/faq">FAQs</a>
            <!-- <a href="/phoenix/data">Data</a>-->
        </div>

        <!-- Partner Logos -->
        <div class="footer-logos">
            <a href="https://resnick.caltech.edu/" target="_blank">
                <img class="footer_img" src="/img/resnick-institute.jpg" alt="Resnick Institute Logo">
            </a>
            <a href="https://www.gps.caltech.edu/" target="_blank">
                <img class="footer_img gps-logo" src="/img/gps-logo.png" alt="Caltech GPS logo">
            </a>
            <a href="https://ascent.research.gatech.edu/" target="_blank">
                <img class="footer_img" src="/img/ascent-logo.jpg" alt="Ascent Network logo">
            </a>
            <a href="https://ng.chbe.gatech.edu/" target="_blank">
                <img class="footer_img gatech-logo" src="/img/gatech-logo.png" alt="Georgia Tech logo">
            </a>
            <a class="footer_item" href="https://data.caltech.edu/" target="_blank">
                <img class="footer_img" src="/img/caltech-data.svg" alt="Caltech Data Logo">
            </a>
            <a href="https://www.quant-aq.com/" target="_blank">
                <img class="footer_img quantaq-logo" src="/img/quantaq-logo.png" alt="QuantAQ logo">
            </a>
            <a href="https://anthropoceneinstitute.com/" target="_blank">
                <img class="footer_img quantaq-logo" src="/img/anthropocene-logo.jpeg" alt="Anthropocene Institute">
            </a>
        </div>
    </div>
    <script>
/**
 * Monthly Pager Implementation
 * Dynamically manages a paginated month selector for iframe content
 */

// Configuration
const CONFIG = {
  // Format: [year, month] where month is 1-indexed (1=January)
  firstMonth: [2025, 3], // March 2025
  lastMonth: [2025, 7],  // July 2025
  // URL pattern with YYYY-MM placeholders
  urlPattern: 'https://caltechlibrary.github.io/air-sampling/phoenix/maps/YYYY-MM.html',
  // Selectors
  iframe: 'iframe',
  pagination: '.pagination',
  prevButton: 'li:first-child',
  currentButton: 'li:nth-child(2)',
  nextButton: 'li:last-child'
};

// Month names for display
const MONTH_NAMES = [
  'January', 'February', 'March', 'April', 'May', 'June', 
  'July', 'August', 'September', 'October', 'November', 'December'
];

class MonthlyPager {
  constructor(config) {
    this.config = config;
    this.months = this.generateMonthsArray();
    this.currentMonthIndex = this.getCurrentMonthIndex();
    this.elements = {};
  }

  /**
   * Generate array of all months between configured start and end dates
   */
  generateMonthsArray() {
    const months = [];
    let currentYear = this.config.firstMonth[0];
    let currentMonth = this.config.firstMonth[1];
    
    const endYear = this.config.lastMonth[0];
    const endMonth = this.config.lastMonth[1];
    
    while (currentYear < endYear || (currentYear === endYear && currentMonth <= endMonth)) {
      // Create month label
      const monthName = `${MONTH_NAMES[currentMonth - 1]} ${currentYear}`;
      
      // Create URL with proper formatting
      const monthStr = currentMonth.toString().padStart(2, '0');
      const url = this.config.urlPattern
        .replace('YYYY', currentYear)
        .replace('MM', monthStr);
      
      months.push({ name: monthName, url: url });
      
      // Move to next month
      currentMonth++;
      if (currentMonth > 12) {
        currentMonth = 1;
        currentYear++;
      }
    }
    
    return months;
  }

  /**
   * Calculate the index of the current month based on system date
   */
  getCurrentMonthIndex() {
    const today = new Date();
    const currentYear = today.getFullYear();
    const currentMonth = today.getMonth() + 1; // Convert to 1-indexed
    
    const [startYear, startMonth] = this.config.firstMonth;
    const [endYear, endMonth] = this.config.lastMonth;
    
    // Check if current date is within range
    if ((currentYear > startYear || (currentYear === startYear && currentMonth >= startMonth)) &&
        (currentYear < endYear || (currentYear === endYear && currentMonth <= endMonth))) {
      
      // Calculate months between first available month and current month
      let yearDiff = currentYear - startYear;
      let monthDiff = currentMonth - startMonth;
      return yearDiff * 12 + monthDiff;
    } else if (currentYear < startYear || (currentYear === startYear && currentMonth < startMonth)) {
      // Before first available month
      return 0;
    } else {
      // After last available month
      return this.months.length - 1;
    }
  }

  /**
   * Initialize DOM elements and event listeners
   */
  init() {
    // Cache DOM elements
    this.elements.iframe = document.querySelector(this.config.iframe);
    this.elements.pagination = document.querySelector(this.config.pagination);
    this.elements.prevButton = this.elements.pagination.querySelector(this.config.prevButton);
    this.elements.currentButton = this.elements.pagination.querySelector(this.config.currentButton);
    this.elements.nextButton = this.elements.pagination.querySelector(this.config.nextButton);
    
    // Set up event listeners
    this.elements.prevButton.querySelector('a').addEventListener('click', this.navigateToPreviousMonth.bind(this));
    this.elements.nextButton.querySelector('a').addEventListener('click', this.navigateToNextMonth.bind(this));
    
    // Initial update
    this.updateView();
  }

  /**
   * Update the iframe and pagination UI
   */
  updateView() {
    // Update iframe source
    this.elements.iframe.src = this.months[this.currentMonthIndex].url;
    
    // Update current month link text
    const currentMonthLink = this.elements.currentButton.querySelector('a');
    currentMonthLink.textContent = this.months[this.currentMonthIndex].name;
    
    // Update previous button state
    this.toggleButtonState(this.elements.prevButton, this.currentMonthIndex === 0);
    
    // Update next button state
    this.toggleButtonState(this.elements.nextButton, this.currentMonthIndex === this.months.length - 1);
  }

  /**
   * Toggle disabled state of a pagination button
   */
  toggleButtonState(button, shouldDisable) {
    if (shouldDisable) {
      button.classList.add('disabled');
    } else {
      button.classList.remove('disabled');
    }
  }

  /**
   * Navigate to previous month if available
   */
  navigateToPreviousMonth(event) {
    event.preventDefault();
    if (this.currentMonthIndex > 0) {
      this.currentMonthIndex--;
      this.updateView();
    }
  }

  /**
   * Navigate to next month if available
   */
  navigateToNextMonth(event) {
    event.preventDefault();
    if (this.currentMonthIndex < this.months.length - 1) {
      this.currentMonthIndex++;
      this.updateView();
    }
  }
}

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
  const pager = new MonthlyPager(CONFIG);
  pager.init();
});
    </script>
</footer>
